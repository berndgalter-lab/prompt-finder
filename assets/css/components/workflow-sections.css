/**
 * Workflow Component: Sections (Overview, Value, Prerequisites)
 * Modern SAAS-style info sections
 */

/* ========================================
   SECTION BASICS
   ======================================== */

.pf-section {
    margin: var(--pf-space-xl, 3rem) 0;
    max-width: 1200px;
    padding: var(--pf-space-md, 1.5rem);
    scroll-margin-top: 120px;
}

.pf-section-heading {
    font-size: 1.75rem;
    font-weight: 700;
    margin: 0 0 var(--pf-space-lg, 2rem) 0;
    color: var(--pf-text, #1a1a1a);
}

/* ========================================
   INFO CARD (Summary)
   ======================================== */

.pf-info-card {
    display: flex;
    gap: 1rem;
    padding: var(--pf-space-lg, 2rem);
    background: var(--pf-bg, #ffffff);
    border: 1px solid var(--pf-border, #e5e7eb);
    border-radius: var(--pf-radius-lg, 16px);
    transition: all 0.3s ease;
    margin-bottom: var(--pf-space-md, 1.5rem);
}

.pf-info-card:hover {
    box-shadow: var(--pf-shadow-md, 0 4px 6px rgba(0, 0, 0, 0.1));
}

.pf-info-card svg {
    flex-shrink: 0;
    color: var(--pf-info, #3b82f6);
}

.pf-info-card-content {
    flex: 1;
}

.pf-info-card-content p {
    margin: 0;
    line-height: 1.6;
    color: var(--pf-text, #1a1a1a);
}

/* ========================================
   USE CASE BADGE
   ======================================== */

.pf-use-case-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, var(--pf-accent, #6366f1) 0%, var(--pf-info, #3b82f6) 100%);
    color: #ffffff;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: var(--pf-space-md, 1.5rem);
}

.pf-use-case-badge svg {
    flex-shrink: 0;
}

/* ========================================
   METRICS GRID
   ======================================== */

.pf-metrics-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    margin-top: var(--pf-space-md, 1.5rem);
}

.pf-metric-card {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 0.875rem;
    background: var(--pf-bg, #ffffff);
    border: 1px solid var(--pf-border, #e5e7eb);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.pf-metric-card:hover {
    box-shadow: var(--pf-shadow-sm, 0 1px 2px rgba(0, 0, 0, 0.05));
    border-color: var(--pf-accent, #6366f1);
}

.pf-metric-card--highlight {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(59, 130, 246, 0.05) 100%);
    border-color: var(--pf-accent, #6366f1);
}

.pf-metric-card svg {
    flex-shrink: 0;
    color: var(--pf-accent, #6366f1);
    width: 18px;
    height: 18px;
}

.pf-metric-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
    min-width: 0;
}

.pf-metric-label {
    font-size: 0.7rem;
    color: var(--pf-text-dim, #666);
    font-weight: 500;
    line-height: 1.2;
}

.pf-metric-value {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--pf-text, #1a1a1a);
    line-height: 1.2;
}

.pf-metric-value--accent {
    color: var(--pf-accent, #6366f1);
}

/* Star Rating */
.pf-star-rating {
    display: flex;
    gap: 0.125rem;
    flex-shrink: 0;
    align-items: center;
}

/* Normalize star SVG styles - consistent fill/stroke */
.pf-star-rating svg {
    stroke-width: 1;
    width: 14px;
    height: 14px;
    flex-shrink: 0;
}

/* Filled stars */
.pf-star-rating svg[fill="#fbbf24"],
.pf-star-rating svg[fill^="#fbbf24"] {
    fill: #fbbf24;
    stroke: #fbbf24;
}

/* Outline stars (empty) */
.pf-star-rating svg:not([fill]),
.pf-star-rating svg[fill="none"] {
    fill: none;
    stroke: currentColor;
    color: var(--pf-border, #e5e7eb);
}

/* ========================================
   VALUE SECTION
   ======================================== */

.pf-value-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--pf-space-md, 1.5rem);
    margin-top: var(--pf-space-md, 1.5rem);
}

.pf-value-card {
    display: flex;
    gap: var(--pf-space-md, 1.5rem);
    padding: var(--pf-space-lg, 2rem);
    background: var(--pf-bg, #ffffff);
    border: 2px solid var(--pf-border, #e5e7eb);
    border-radius: var(--pf-radius-lg, 16px);
    transition: all 0.3s ease;
}

.pf-value-card:hover {
    box-shadow: var(--pf-shadow-md, 0 4px 6px rgba(0, 0, 0, 0.1));
}

.pf-value-card--warning {
    border-color: #f97316;
    background: rgba(255, 107, 0, 0.05);
}

.pf-value-card--warning svg {
    color: #f97316;
}

.pf-value-card--success {
    border-color: var(--pf-success, #10b981);
    background: rgba(16, 185, 129, 0.05);
}

.pf-value-card--success svg {
    color: var(--pf-success, #10b981);
}

.pf-value-card-content {
    flex: 1;
}

.pf-value-card-heading {
    margin: 0 0 0.75rem 0;
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--pf-text, #1a1a1a);
}

.pf-value-card-text {
    line-height: 1.6;
    color: var(--pf-text, #1a1a1a);
}

.pf-value-card-text ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.pf-value-card-text ul li {
    padding: 0.375rem 0;
    padding-left: 1.5rem;
    position: relative;
}

.pf-value-card-text ul li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: var(--pf-accent, #6366f1);
    font-weight: bold;
}

/* ========================================
   TIME SAVED BADGE
   ======================================== */

.pf-time-saved-badge {
    display: flex;
    align-items: center;
    gap: var(--pf-space-md, 1.5rem);
    padding: var(--pf-space-lg, 2rem);
    background: linear-gradient(135deg, var(--pf-accent, #6366f1) 0%, var(--pf-info, #3b82f6) 100%);
    color: #ffffff;
    border-radius: var(--pf-radius-lg, 16px);
    margin-top: var(--pf-space-md, 1.5rem);
}

.pf-time-saved-badge svg {
    flex-shrink: 0;
}

.pf-time-saved-content {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.pf-time-saved-label {
    font-size: 0.875rem;
    opacity: 0.9;
}

.pf-time-saved-value {
    font-size: 1.5rem;
    font-weight: 700;
}

/* ========================================
   PREREQUISITES SECTION
   ======================================== */

.pf-prerequisite-card {
    display: flex;
    gap: var(--pf-space-md, 1.5rem);
    padding: var(--pf-space-lg, 2rem);
    background: var(--pf-bg, #ffffff);
    border: 1px solid var(--pf-border, #e5e7eb);
    border-radius: var(--pf-radius-lg, 16px);
    margin-bottom: var(--pf-space-md, 1.5rem);
}

.pf-prerequisite-card svg {
    flex-shrink: 0;
    color: var(--pf-accent, #6366f1);
}

.pf-prerequisite-content {
    flex: 1;
}

.pf-prerequisite-heading {
    margin: 0 0 0.75rem 0;
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--pf-text, #1a1a1a);
}

.pf-prerequisite-text {
    line-height: 1.6;
    color: var(--pf-text, #1a1a1a);
}

.pf-prerequisite-text ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.pf-prerequisite-text ul li {
    padding: 0.375rem 0;
    padding-left: 1.5rem;
    position: relative;
}

.pf-prerequisite-text ul li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--pf-success, #10b981);
    font-weight: bold;
}

/* ========================================
   PRIVACY WARNING
   ======================================== */

.pf-privacy-warning {
    display: flex;
    gap: var(--pf-space-md, 1.5rem);
    padding: 1.5rem;
    background: #fef2f2; /* Light red */
    border: 2px solid #dc2626; /* Strong red */
    border-radius: 8px;
    margin: 1.5rem 0;
    box-shadow: 0 4px 6px rgba(220, 38, 38, 0.1);
}

.pf-privacy-warning svg {
    flex-shrink: 0;
    color: #dc2626;
}

.pf-privacy-warning-content {
    flex: 1;
}

.pf-privacy-warning-heading {
    color: #dc2626;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
    font-size: 1rem;
}

.pf-privacy-warning-text {
    color: #7f1d1d; /* Dark red */
    line-height: 1.6;
    margin: 0;
}

.pf-privacy-warning strong {
    color: #991b1b;
}

/* ========================================
   TIME REMINDER
   ======================================== */

.pf-time-reminder {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    background: var(--pf-surface, #f9fafb);
    border: 1px solid var(--pf-border, #e5e7eb);
    border-radius: var(--pf-radius-md, 12px);
    font-size: 0.875rem;
    color: var(--pf-text-dim, #666);
}

.pf-time-reminder svg {
    flex-shrink: 0;
    opacity: 0.7;
}

.pf-time-reminder strong {
    color: var(--pf-text, #1a1a1a);
    font-weight: 600;
}

/* ========================================
   RESPONSIVE
   ======================================== */

@media (max-width: 768px) {
    .pf-section {
        padding: var(--pf-space-sm, 1rem);
    }
    
    .pf-section-heading {
        font-size: 1.5rem;
    }
    
    .pf-metrics-grid {
        grid-template-columns: 1fr;
    }
    
    .pf-value-grid {
        grid-template-columns: 1fr;
    }
    
    .pf-info-card {
        flex-direction: column;
        text-align: center;
    }
    
    .pf-metric-card {
        align-items: center;
        justify-content: flex-start;
        text-align: left;
    }
    
    .pf-value-card {
        flex-direction: column;
        text-align: center;
    }
    
    .pf-prerequisite-card {
        flex-direction: column;
    }
    
    .pf-privacy-warning {
        flex-direction: column;
    }
    
    .pf-time-saved-badge {
        flex-direction: column;
        text-align: center;
    }
}

/* ===== Compact spacing for workflow pages ===== */
.pf-workflow-container .pf-section {
    padding-top: var(--pf-sec-pad-y) !important;
    padding-bottom: var(--pf-sec-pad-y) !important;
}

.pf-workflow-container .pf-metrics-grid,
.pf-workflow-container .pf-value-grid {
    gap: var(--pf-row-gap) !important;
}

.pf-workflow-container .pf-metrics-grid {
    gap: 0.75rem !important;
}

/* Meta Chips / Badges */
.pf-workflow-container .pf-meta-chip,
.pf-workflow-container .pf-step-badge,
.pf-workflow-container .pf-step-status {
    line-height: 1;
}

.pf-workflow-container .pf-meta-chip {
    height: var(--pf-chip-h) !important;
    padding: 0 var(--pf-chip-pad-x) !important;
    font-size: var(--pf-font-xs) !important;
    border-radius: 9999px;
}

.pf-workflow-container .pf-meta-chip svg {
    width: var(--pf-icon-sm);
    height: var(--pf-icon-sm);
}

/* Info/Warning/Note Cards */
.pf-workflow-container .pf-info-card,
.pf-workflow-container .pf-value-card,
.pf-workflow-container .pf-prerequisite-card,
.pf-workflow-container .pf-privacy-warning,
.pf-workflow-container .pf-time-reminder {
    padding: var(--pf-space-3) !important;
    gap: var(--pf-space-2) !important;
}

.pf-workflow-container .pf-value-card-text,
.pf-workflow-container .pf-prerequisite-text {
    margin: 0 !important;
    font-size: var(--pf-font-md);
}

/* ===== Overview & Value — Compact Layout ===== */

.pf-section--overview {
  --ov-space-1: 6px;
  --ov-space-2: 10px;
  --ov-space-3: 14px;
  --ov-space-4: 18px;

  --ov-text-xs: 12.5px;
  --ov-text-sm: 14px;
  --ov-text-md: 16px;
  --ov-text-lg: 18px;

  --ov-border: rgba(0,0,0,.08);
}

.pf-section--overview .pf-section-heading {
  margin-bottom: var(--ov-space-2);
}

/* Panel: zwei Spalten auf Desktop, Stack auf Mobile */
.pf-overview-panel {
  display: grid;
  grid-template-columns: 1.2fr .8fr;
  gap: var(--ov-space-4);
  padding: var(--ov-space-3);
  background: var(--pf-bg-light, #f9fafb);
  border: 1px solid var(--ov-border);
  border-radius: 12px;
}

.pf-overview-left { 
  min-width: 0; 
  display: flex;
  flex-direction: column;
  gap: var(--ov-space-2);
}

.pf-overview-right { 
  min-width: 0; 
}

/* Summary kompakt */
.pf-overview-summary {
  margin: 0;
}

.pf-overview-summary p {
  margin: 0 0 var(--ov-space-2) 0;
  font-size: var(--ov-text-md);
  line-height: 1.5;
  color: var(--pf-text, #1a1a1a);
}

/* Use Case als kleine Badge-Reihe, einzeilig scroll-sicher */
.pf-overview-badges {
  display: flex;
  gap: var(--ov-space-2);
  flex-wrap: wrap;
  margin-bottom: var(--ov-space-2);
  align-items: center;
}

.pf-overview-badges .pf-use-case-badge,
.pf-overview-badges .pf-meta-chip,
.pf-section--overview .pf-use-case-badge {
  font-size: var(--ov-text-xs);
  height: 20px;
  padding: 0 8px;
  border-radius: 10px;
  line-height: 1;
}

.pf-overview-badges .pf-use-case-badge svg,
.pf-section--overview .pf-use-case-badge svg {
  width: 12px;
  height: 12px;
}

/* Optionaler Hinweis (ehem. "Without AI") als dezent graue Zeile */
.pf-overview-note {
  font-size: var(--ov-text-sm);
  opacity: .85;
  color: var(--pf-text-dim, #666);
  margin-top: var(--ov-space-1);
}

/* Metrics kompakt als Grid 3x1 (wrapt auf kleineren Screens) */
.pf-overview-metrics {
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: var(--ov-space-2);
  align-content: start;
}

/* bestehende .pf-metric-card verkleinern */
.pf-overview-metrics .pf-metric-card {
  display: flex;
  align-items: center;
  gap: var(--ov-space-2);
  padding: 10px;
  border: 1px solid var(--ov-border);
  border-radius: 10px;
  background: var(--pf-bg, #ffffff);
  min-height: 48px;
}

.pf-overview-metrics .pf-metric-card svg { 
  width: 16px; 
  height: 16px; 
  flex-shrink: 0;
}

.pf-overview-metrics .pf-metric-content .pf-metric-label { 
  font-size: var(--ov-text-xs); 
  opacity: .8; 
}

.pf-overview-metrics .pf-metric-content .pf-metric-value { 
  font-size: var(--ov-text-md); 
  line-height: 1.2; 
}

/* Star-Rating kleiner */
.pf-overview-metrics .pf-star-rating svg {
  width: 16px !important;
  height: 16px !important;
}

/* Doppelte "Saved 5 minutes"-Badge unten im Overview ausblenden */
.pf-section--overview .pf-time-saved-badge { 
  display: none !important; 
}

/* Hide old info card in overview */
.pf-section--overview .pf-info-card--summary {
  display: none;
}

/* Hide old metrics grid if not in overview panel */
.pf-section--overview > .pf-metrics-grid:not(.pf-overview-metrics) {
  display: none;
}

/* ===== Value Section: zwei Mini-Karten nebeneinander ===== */

.pf-section--value { 
  --val-space-2: 10px; 
  --val-space-3: 14px; 
}

.pf-section--value .pf-section-heading { 
  margin: var(--val-space-3) 0 var(--val-space-2); 
}

.pf-value-rows {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: var(--val-space-3);
}

/* Mini-Karten neutral, nur schmaler Farbakzent an der linken Kante */
.pf-value-mini {
  background: var(--pf-bg, #ffffff);
  border: 1px solid var(--ov-border);
  border-radius: 10px;
  padding: 12px;
  position: relative;
}

.pf-value-mini h3 {
  margin: 0 0 8px;
  font-size: var(--ov-text-md);
  font-weight: 600;
  color: var(--pf-text, #1a1a1a);
}

.pf-value-mini .pf-value-card-text {
  margin: 0;
  font-size: var(--ov-text-sm);
  line-height: 1.5;
  color: var(--pf-text, #1a1a1a);
}

/* Akzentstreifen */
.pf-value-mini--problems { 
  border-left: 4px solid #f59e0b; /* Amber */
}

.pf-value-mini--outcome { 
  border-left: 4px solid #10b981; /* Green */
}

/* Vorhandene bunte Cards neutralisieren, falls sie noch im DOM sind */
.pf-value-card--warning,
.pf-value-card--success {
  background: var(--pf-bg, #ffffff) !important;
  border: 1px solid var(--ov-border) !important;
  border-left-width: 4px !important;
  border-radius: 10px !important;
  padding: 12px !important;
}

.pf-value-card--warning { 
  border-left-color: #f59e0b !important; 
}

.pf-value-card--success { 
  border-left-color: #10b981 !important; 
}

/* Hide icons in value cards when using mini layout */
.pf-value-rows .pf-value-card svg {
  display: none;
}

.pf-value-rows .pf-value-card-content {
  margin: 0;
}

/* ===== Responsive ===== */

@media (max-width: 1023.98px) {
  .pf-overview-panel {
    grid-template-columns: 1fr;
    gap: var(--ov-space-3);
  }
  
  .pf-overview-metrics {
    grid-template-columns: repeat(3, minmax(0,1fr));
  }
}

@media (max-width: 767.98px) {
  .pf-overview-panel { 
    padding: var(--ov-space-2); 
  }
  
  .pf-overview-summary p { 
    font-size: var(--ov-text-sm); 
  }
  
  .pf-overview-metrics { 
    grid-template-columns: repeat(2, minmax(0,1fr)); 
  }
  
  .pf-value-rows { 
    grid-template-columns: 1fr; 
  }
  
  .pf-value-mini { 
    padding: 10px; 
  }
}

/* === PF Intro Panel (compact) ============================================ */

.pf-hidden { 
  display: none !important; 
}

.pf-intro {
  background: var(--pf-bg-light, #f9fafb);
  border: 1px solid var(--pf-border, #e5e7eb);
  border-radius: 12px;
  padding: 12px 14px;
  margin: 16px 0 12px;
}

.pf-intro * { 
  box-sizing: border-box; 
}

.pf-intro-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  justify-content: space-between;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.pf-intro-summary {
  margin: 0;
  line-height: 1.35;
  font-size: 15px;
  color: var(--pf-text, #1a1a1a);
  flex: 1;
  min-width: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* compact */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.pf-intro-toggle {
  appearance: none;
  border: 1px solid var(--pf-border, #e5e7eb);
  background: transparent;
  color: var(--pf-text-dim, #666);
  font-size: 13px;
  line-height: 1;
  padding: 6px 8px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
  flex-shrink: 0;
  white-space: nowrap;
}

.pf-intro-toggle:hover,
.pf-intro-toggle:focus {
  border-color: var(--pf-accent, #6366f1);
  color: var(--pf-text, #1a1a1a);
  outline: none;
  background: var(--pf-surface, #f9fafb);
}

.pf-intro-content { 
  margin-top: 4px; 
}

/* Two columns desktop, one column mobile */
.pf-intro-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 6px;
}

@media (max-width: 768px) {
  .pf-intro-grid { 
    grid-template-columns: 1fr; 
  }
  
  .pf-intro { 
    padding: 10px 12px; 
  }
  
  .pf-intro-toggle { 
    padding: 6px 8px; 
  }
  
  .pf-intro-bar {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
}

/* Minimal columns with left accent, no big colored boxes */
.pf-intro-col {
  background: var(--pf-bg, #ffffff);
  border: 1px solid var(--pf-border, #e5e7eb);
  border-left-width: 3px;
  border-radius: 10px;
  padding: 10px 12px;
}

.pf-intro-problems { 
  border-left-color: #f59e0b; /* amber */
}

.pf-intro-outcome { 
  border-left-color: #10b981; /* green */
}

.pf-intro-h3 {
  font-size: 14px;
  line-height: 1.2;
  margin: 0 0 6px 0;
  color: var(--pf-text, #1a1a1a);
  font-weight: 600;
}

.pf-intro-text {
  font-size: 14px;
  line-height: 1.35;
  color: var(--pf-text-dim, #666);
  margin: 0;
}

.pf-intro-text p {
  margin: 0 0 4px 0;
}

.pf-intro-text ul {
  margin: 0;
  padding-left: 18px;
}

.pf-intro-text li {
  margin: 4px 0;
}

/* Optional, tiny note line */
.pf-intro-note {
  margin: 10px 2px 2px;
  font-size: 13px;
  color: var(--pf-text-dim, #666);
  opacity: 0.85;
}

/* Collapsed state */
.pf-intro.is-collapsed .pf-intro-summary {
  -webkit-line-clamp: 1;
}

/* === Overview: kompakter Stack === */
.pf-section--overview { 
  --ov-gap: 12px; 
  --ov-gap-lg: 16px; 
  --ov-pad: 14px; 
  padding-top: 8px;
  margin-top: 0;
}

.pf-overview-header { 
  position: relative;
  display: flex; 
  align-items: center; 
  justify-content: flex-end; 
  margin-bottom: -34px;
  z-index: 10;
  pointer-events: none;
}

.pf-overview-header .pf-overview-toggle {
  pointer-events: auto;
}

/* Mobile: Button nicht überlappend, sondern über der Card */
@media (max-width: 768px) {
  .pf-overview-header {
    margin-bottom: 8px;
    margin-top: 0;
  }
  
  .pf-overview-card {
    padding-top: 14px;
  }
}

.pf-section-heading { 
  margin: 0; 
  font-size: 1.1rem; 
  line-height: 1.3; 
}

.pf-overview-toggle {
  appearance: none; 
  border: 1px solid var(--base, #e5e7eb); 
  background: var(--base-2, #f3f4f6);
  color: var(--contrast, #1a1a1a);
  padding: 6px 12px; 
  border-radius: 8px; 
  font-size: 13px; 
  font-weight: 500;
  line-height: 1.2; 
  cursor: pointer;
  transition: all 0.2s ease;
}

.pf-overview-toggle:hover { 
  background: var(--base, #e5e7eb); 
  border-color: var(--base, #e5e7eb);
  color: var(--contrast, #1a1a1a);
}

.pf-overview-body { 
  display: grid; 
  gap: var(--ov-gap-lg); 
}

.pf-overview-stack { 
  display: grid; 
  gap: var(--ov-gap-lg); 
}

.pf-overview-summary-block { 
  margin: 0; 
}

.pf-overview-summary { 
  margin: 0; 
  font-size: 1rem; 
  line-height: 1.45; 
}

.pf-overview-split {
  display: grid; 
  gap: 12px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.pf-overview-block { 
  border: 1px solid var(--base, #e5e7eb); 
  border-radius: 10px; 
  padding: 12px; 
  background: var(--base-3, #f9fafb); 
}

.pf-overview-sub { 
  margin: 0 0 6px 0; 
  font-size: .95rem; 
}

.pf-overview-text { 
  font-size: .95rem; 
  line-height: 1.4; 
}

.pf-kpis { 
  display: grid; 
  gap: 8px; 
  grid-template-columns: repeat(3, minmax(0, 1fr)); 
  padding: 0; 
  margin: 0; 
  list-style: none; 
}

.pf-kpi { 
  display: grid; 
  grid-template-columns: 18px 1fr auto; 
  align-items: center; 
  gap: 8px; 
  padding: 10px; 
  border: 1px solid var(--base, #e5e7eb); 
  border-radius: 10px; 
  background: var(--base-3, #f9fafb); 
}

.pf-kpi svg { 
  width: 18px; 
  height: 18px; 
}

.pf-kpi .pf-kpi-label { 
  font-size: .8rem; 
  color: var(--contrast-2, #666); 
}

.pf-kpi .pf-kpi-value { 
  font-size: .95rem; 
  font-weight: 600; 
}

.pf-usecase { 
  display: inline-block; 
  padding: 6px 10px; 
  border-radius: 999px; 
  background: var(--base-2, #f3f4f6); 
  border: 1px solid var(--base, #e5e7eb); 
  font-size: .9rem; 
}

/* Collapse - Body wird ausgeblendet, aber Card-Struktur bleibt für Layout */
.pf-section--overview.is-collapsed .pf-overview-body {
  display: none;
}

/* Stelle sicher, dass die Section selbst ihre Breite behält */
.pf-section--overview {
  min-width: 0;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  /* Breite bleibt erhalten, auch wenn Body ausgeblendet wird */
  display: block;
}

.pf-section--overview .pf-overview-body {
  width: 100%;
  box-sizing: border-box;
}

/* === Prereqs (Before you start) === */
.pf-section--prereqs { 
  --pr-gap: 12px; 
  --pr-pad: 14px; 
}

.pf-prereqs-header { 
  margin: 18px 0 var(--pr-gap) 0; 
}

.pf-prereqs-body { 
  display: block; 
}

.pf-reqs { 
  list-style: none; 
  padding: 0; 
  margin: 0; 
  display: grid; 
  gap: 8px; 
}

.pf-reqs-item { 
  border: 1px solid var(--base, #e5e7eb); 
  border-radius: 10px; 
  padding: 10px; 
  background: var(--base-3, #f9fafb); 
}

.pf-reqs-label { 
  font-weight: 600; 
  font-size: .95rem; 
}

.pf-reqs-notes { 
  margin-top: 4px; 
  font-size: .95rem; 
  line-height: 1.4; 
  color: var(--contrast, #1a1a1a); 
}

/* Responsive */
@media (max-width: 768px) {
  .pf-kpis { 
    grid-template-columns: 1fr; 
  }
  
  .pf-overview-split { 
    grid-template-columns: 1fr; 
  }
}

/* === pf:overview restore (compact card) === */
.pf-overview-card {
  background: var(--base-3, #f9fafb);
  border: 1px solid var(--base, #e5e7eb);
  border-radius: 10px;
  padding: 14px 16px;
  padding-top: 42px;
  margin: 4px 0 12px 0;
  position: relative;
}

.pf-overview-summary {
  margin: 0 0 10px 0;
  line-height: 1.4;
  font-size: 15px;
}

.pf-overview-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.pf-overview-block {
  padding: 8px 10px;
  border-radius: 8px;
  background: var(--base-2, #f3f4f6);
  border-left: 4px solid transparent;
}

.pf-overview-block--problem { border-left-color: #ff7a00; } /* Orange Akzent */
.pf-overview-block--outcome { border-left-color: var(--accent, #6366f1); }

.pf-overview-block h3 {
  margin: 0 0 6px 0;
  font-size: 15px;
  line-height: 1.2;
}

.pf-overview-text { margin: 0; font-size: 14px; line-height: 1.45; }

@media (max-width: 768px) {
  .pf-overview-card { padding: 12px; }
  .pf-overview-grid { grid-template-columns: 1fr; gap: 10px; }
}

/* === pf:prereqs compact card === */
.pf-prereqs-card {
  background: var(--base-3, #f9fafb);
  border: 1px solid var(--base, #e5e7eb);
  border-radius: 10px;
  padding: 12px 14px;
  margin: 6px 0 10px 0;
}

.pf-reqs { margin: 0; padding-left: 18px; }

.pf-reqs li { margin: 6px 0; line-height: 1.4; }

/* === pf:overview metrics (subtle inline) === */
.pf-overview-metrics {
  display: flex; 
  gap: 16px; 
  margin: 0 0 14px 0; 
  align-items: center;
  flex-wrap: wrap;
  font-size: 14px;
  color: var(--contrast-2, #666);
}

.pf-metric-inline {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.pf-metric-inline strong {
  font-weight: 600;
  color: var(--contrast, #1a1a1a);
}

@media (max-width: 768px) {
  .pf-overview-metrics { 
    flex-direction: column; 
    align-items: flex-start;
    gap: 8px; 
  }
}
